{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/home/quezan/Desktop/ChowTimeTV/client/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/quezan/Desktop/ChowTimeTV/client/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/home/quezan/Desktop/ChowTimeTV/client/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/quezan/Desktop/ChowTimeTV/client/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/home/quezan/Desktop/ChowTimeTV/client/node_modules/@babel/runtime/helpers/inherits\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _helpers = require('../helpers.js');\n\nvar _ReplyableContent = require('./ReplyableContent.js');\n\nvar _ReplyableContent2 = _interopRequireDefault(_ReplyableContent);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n* A class representing a private message or a modmail.\n* <style> #PrivateMessage {display: none} </style>\n* @example\n*\n* // Get a Private Message with a given ID\n* r.getMessage('51shnw')\n* @extends ReplyableContent\n*/\n\n\nvar PrivateMessage =\n/*#__PURE__*/\nfunction (_ReplyableContent2$de) {\n  _inherits(PrivateMessage, _ReplyableContent2$de);\n\n  function PrivateMessage() {\n    _classCallCheck(this, PrivateMessage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PrivateMessage).apply(this, arguments));\n  }\n\n  _createClass(PrivateMessage, [{\n    key: \"_transformApiResponse\",\n    value: function _transformApiResponse(response) {\n      response[0].replies = (0, _helpers.buildRepliesTree)(response[0].replies || []);\n      return (0, _helpers.findMessageInTree)(this.name, response[0]);\n    } // TODO: Get rid of the repeated code here, most of these methods are exactly the same with the exception of the URIs\n\n    /**\n    * @summary Marks this message as read.\n    * @returns {Promise} A Promise that fulfills with this message after the request is complete\n    * @example r.getMessage('51shxv').markAsRead()\n    */\n\n  }, {\n    key: \"markAsRead\",\n    value: function markAsRead() {\n      return this._r.markMessagesAsRead([this]).return(this);\n    }\n    /**\n    * @summary Marks this message as unread.\n    * @returns {Promise} A Promise that fulfills with this message after the request is complete\n    * @example r.getMessage('51shxv').markAsUnread()\n    */\n\n  }, {\n    key: \"markAsUnread\",\n    value: function markAsUnread() {\n      return this._r.markMessagesAsUnread([this]).return(this);\n    }\n    /**\n    * @summary Mutes the author of this message for 72 hours. This can only be used on moderator mail.\n    * @returns {Promise} A Promise that fulfills with this message after the request is complete\n    * @example r.getMessage('51shxv').muteAuthor()\n    */\n\n  }, {\n    key: \"muteAuthor\",\n    value: function muteAuthor() {\n      return this._post({\n        uri: 'api/mute_message_author',\n        form: {\n          id: this.name\n        }\n      }).return(this);\n    }\n    /**\n    * @summary Unmutes the author of this message.\n    * @returns {Promise} A Promise that fulfills with this message after the request is complete\n    * @example r.getMessage('51shxv').unmuteAuthor()\n    */\n\n  }, {\n    key: \"unmuteAuthor\",\n    value: function unmuteAuthor() {\n      return this._post({\n        uri: 'api/unmute_message_author',\n        form: {\n          id: this.name\n        }\n      }).return(this);\n    }\n    /**\n    * @summary Deletes this message from the authenticated user's inbox.\n    * @desc This only removes the item from the authenticated user's inbox. It has no effect on how the item looks to the sender.\n    * @returns {Promise} A Promise that fulfills with this message when the request is complete.\n    * @example\n    *\n    * const firstMessage = r.getInbox().get(0);\n    * firstMessage.deleteFromInbox();\n    */\n\n  }, {\n    key: \"deleteFromInbox\",\n    value: function deleteFromInbox() {\n      return this._post({\n        uri: 'api/del_msg',\n        form: {\n          id: this.name\n        }\n      }).return(this);\n    }\n  }, {\n    key: \"_uri\",\n    get: function get() {\n      return 'message/messages/' + this.name.slice(3);\n    }\n  }]);\n\n  return PrivateMessage;\n}(_ReplyableContent2.default);\n\nexports.default = PrivateMessage;","map":null,"metadata":{},"sourceType":"script"}