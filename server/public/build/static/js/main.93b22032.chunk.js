(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t){},186:function(e,t){},204:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAMcAQMAAACl5F6MAAAABlBMVEW8vsDn6OnyCdevAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEbUlEQVR4AezBMQEAAADCoPVP7WsIoAcAAAAAAAAAAAAAAAAAAAAAAIydO0iOk4eCAGyVXNEuukF0FB1NHE1H0RG0ZEHRf5A99WYMk1T+Kvolw+vVjBf+CkMLoRCFWQkuqCquB3QOOQKrCpwBKJ1i6Jxk/EzTubaArgAHQOeyjhu8aMEafUrYolLjLRMfLrpw5cMYadeBnTLcrwN7ZXi+DhyuCi8GG/xy8Gyw3SRe7n7cLzfnajah5z87keFJ//lYf0WAAq+vv+rDX+fir+zpr2Xqr95qrle/ywr9OxX+/nF19fGRmR/yrzCJCudRqNHiNDHhIlquTBgCF2aX3V2BwYT9nUYdNoNojnqjiKJ56q0xiRaok4EsWqQO2EW0RJ3wQbTMvDc6iFaYswEvkx5Hnf8E0Tx1xhcfj3gh1lhOLHVWnx8vLvBq/FAnYpGBhwEElVfjhyETjVjj5bFanATpLrHIcpDkIstpJRdZLmRykaW63CLLMZKLLGeVXGS5jvlFluZKq8k1lnGMXGMZuck1lnsVu8ZydybXWOYj5BrLDIxcY5lz8mrML/JupPIC02osf3tyjeVqY9dYikys8QlTAUIsFovFYrFYLJaIP8hq8D4GG2ywwQYbbLDBBhtssMEGG2ywwQYb3N9+G/ePwQYbbLDBBhtssMEGG5yhA3ugqcARmFXgDKwqcAGgAsu+J1zYy94UXDjIRxosH+crwUm2euHCWX43Fy7YciUYI9N1YIeRavDpsMdIM9jgs+BOh4PBavA3ras6aMFRC06TEpyrLsy/H5emBKOrwvxZpsOsA3ssOk8SQQ9edZ4WI6DzfJwU4Ym/FCE7ofFXfQoJlnUugRsHdl9GTKBzlxRF6vzVW9kngr5eLTB5hT6MUhPgLfdDRhwQCQ79TQXe756tAWcp10XgIuMYF8aWxoedLtz5sB/wzIeDLrzw4QiRqHBSgOvnwLWFCrc7eCLCbnwrXFh2ZMdHKhEOyx3ciHBch8OHE2TtCZ0IZ0wCz1S4jhGTDhc0ecN9IcLja/qEVwIswqwC+/H3zfgMDw7j95cbPBFg+YEKnIaGWyoNzpvmcEujws0rwGX7LnCnwWOgDLhlZsFuaJEP+zFCC7yw4DCAhFtWFhwHl/lwwpeowRMJzlpw+QpXEgwl2O3gxoH9Du4cOOzgmQNHLTjt4OXF4byDVw5csAsHhhLssM/EgD32qQw4aMER+zQtuDPgpAVn7DMz4IJ9FgYMJdgdwSsB9jgKAQ5acDyEJy24ng8nLTgfwu18uBzC/XwYSrA7hmfCeyCHWU6Hw18Gr4R3fY5zOpy04PwEngj/KfYw9WwYSrB7BjfCW4qH6a8Kh2fwTHgF9jDLyXDSgvMzeKW8UX6Uk2Eowe45PL0m7J/D9VQ4aMG/isH/JwYbbLDBBhtssMEGG2ywtz3K/2tvDmQAAAAABvlbn+NbCSQWi8VisVgsFovFYrFYLBYvAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEHVJjR5bJLd8AAAAASUVORK5CYII="},207:function(e,t,n){e.exports=n(462)},234:function(e,t,n){},343:function(e,t){},356:function(e,t){},398:function(e,t){},405:function(e,t){},407:function(e,t){},414:function(e,t){},419:function(e,t,n){},421:function(e,t,n){},423:function(e,t,n){},432:function(e,t){},457:function(e,t,n){},459:function(e,t,n){},462:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(201),c=n.n(i),s=n(14),o=n(15),u=n(17),l=n(16),d=n(18),p=n(9),f=n(3),v=n.n(f),h=n(22),m=n(116),A=n.n(m);A.a.defaults.withCredentials=!0;var E=A.a.create({baseURL:"https://chowtime-tv.herokuapp.com/",credentials:"same-origin"}),w=function(e){return{type:"SELECT_VIDEO",payload:e}},g=function(e){return{type:"LIKE_STATUS",payload:e}},b=function(){return function(){var e=Object(h.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/new");case 2:n=e.sent,t({type:"FETCH_NEW_VIDEOS",payload:n.data.data}),t(w(n.data.data[0])),t(g(n.data.data[0].likes));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},y=(n(234),n(203)),O=n.n(y),I=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.signInStatus()}},{key:"generateRandomString",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}},{key:"renderButton",value:function(){var e=this,t=O.a.getAuthUrl({clientId:"06_IsJue03S96Q",scope:["*"],redirectUri:"https://chowtime-tv.herokuapp.com/authorize",permanent:!0,state:this.generateRandomString(16)});return this.props.isSignedIn?r.a.createElement("button",{onClick:function(){return e.props.signOut()},className:"signout-btn oauth-btn",href:"locahold"},"Logout"):r.a.createElement("a",{className:"signin-btn oauth-btn",href:t},"Login")}},{key:"render",value:function(){return r.a.createElement("div",{className:"btn-container"},this.renderButton())}}]),t}(r.a.Component),j=Object(p.b)(function(e){return{isSignedIn:e.isSignedIn.isSignedIn}},{signInStatus:function(){return function(){var e=Object(h.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/status");case 2:n=e.sent,t({type:"SIGNIN",payload:n.data.signInStatus});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},signOut:function(){return function(){var e=Object(h.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/logout");case 2:n=e.sent,t({type:"SIGNOUT",payload:n.data.signInStatus});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}})(I),N=(n(419),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).changeActiveTab=function(e){e.stopPropagation(),n.removeActiveTab(),e.target.classList.contains("active")||e.target.classList.add("active")},n.removeActiveTab=function(){document.querySelectorAll(".active")[0].classList.remove("active")},n.renderTabs=function(){return[{func:n.props.fetchHotVideos,val:"hot"},{func:n.props.fetchFiveSevenVideos,val:"5 - 7"},{func:n.props.fetchSevenTenVideos,val:"7 - 10"},{func:n.props.fetchTenFifteenVideos,val:"10 - 15"},{func:n.props.fetchHalfHourVideos,val:"30+"}].map(function(e){return r.a.createElement("a",{key:e.val,className:"item",href:"#",onClick:function(t){n.changeActiveTab(t),e.func()}},e.val)})},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"header-component"},r.a.createElement("div",{className:"header-segment"},r.a.createElement("h1",null,"ChowTime TV"),r.a.createElement("i",{className:"fas fa-utensils"}),r.a.createElement("i",{className:"fas fa-tv"}),r.a.createElement(j,null)),r.a.createElement("div",{className:"ui secondary pointing menu header-tabs"},r.a.createElement("a",{className:"active item",href:"#",onClick:function(t){e.changeActiveTab(t),e.props.fetchNewVideos()}},"new"),this.renderTabs()))}}]),t}(r.a.Component)),T=Object(p.b)(null,{fetchNewVideos:b,fetchHotVideos:function(){return function(){var e=Object(h.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/hot");case 2:n=e.sent,t({type:"FETCH_HOT_VIDEOS",payload:n.data.data}),t(w(n.data.data[0])),t(g(n.data.data[0].likes));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},fetchFiveSevenVideos:function(){return function(){var e=Object(h.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/5-7");case 2:n=e.sent,t({type:"FETCH_FIVESEVEN_VIDEOS",payload:n.data.data}),t(w(n.data.data[0])),t(g(n.data.data[0].likes));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},fetchSevenTenVideos:function(){return function(){var e=Object(h.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/7-10");case 2:n=e.sent,t({type:"FETCH_SEVENTEN_VIDEOS",payload:n.data.data}),t(w(n.data.data[0])),t(g(n.data.data[0].likes));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},fetchTenFifteenVideos:function(){return function(){var e=Object(h.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/10-15");case 2:n=e.sent,t({type:"FETCH_TENFIFTEEN_VIDEOS",payload:n.data.data}),t(w(n.data.data[0])),t(g(n.data.data[0].likes));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},fetchHalfHourVideos:function(){return function(){var e=Object(h.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/30plus");case 2:n=e.sent,t({type:"FETCH_HALFHOUR_VIDEOS",payload:n.data.data}),t(w(n.data.data[0])),t(g(n.data.data[0].likes));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}})(N),V=(n(421),n(204)),k=n.n(V),L=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).call(this))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"renderImg",value:function(e){var t=e.secure_media;return t=t?(t=e.secure_media.oembed.thumbnail_url).replace("hqdefault","mqdefault"):k.a,r.a.createElement("img",{className:"",src:t,alt:e.title})}},{key:"adjustTitleLength",value:function(e){if(e.length>=100)return"".concat(e.slice(0,90),"...");if(e){e=e.replace(/\[\d+:\d+\]/g,"")}return e}},{key:"render",value:function(){var e=this,t=this.props.video,n="";return t.title&&(n=t.title.match(/\d+[:|.]\d+/g)),null===t.secure_media?r.a.createElement("div",null):r.a.createElement("div",{key:t.id,className:"video-item",onClick:function(){return e.props.selectVideo(t)}},r.a.createElement("div",{className:"img-container"},this.renderImg(t),r.a.createElement("span",{className:"video-length"},n)),r.a.createElement("div",{className:"video-item-title"},this.adjustTitleLength(t.title)))}}]),t}(r.a.Component),C=Object(p.b)(null,{selectVideo:w})(L),S=(n(423),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.videos.map(function(e){return r.a.createElement(C,{key:e.title,video:e})});return r.a.createElement("div",{className:"video-list"},e)}}]),t}(r.a.Component)),D=Object(p.b)(function(e){return{videos:e.videos}})(S),F=n(205),H=n.n(F),M=(n(457),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"htmlDecode",value:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}},{key:"updatedVideoItem",value:function(e,t,n){for(var a=0;a<this.props.videos.length&&this.props.videos[a].id!==e;a++);this.props.videos[a].score=t,this.props.videos[a].likes=n}},{key:"renderVotes",value:function(e){var t=this,n="".concat(e.id," ").concat("fas fa-arrow-circle-right"," ").concat(!0===e.likes?"orangeArrow":""),a="".concat(e.id," ").concat("fas fa-arrow-circle-right"," ").concat(!1===e.likes?"blueArrow":"");return this.props.isSignedIn?r.a.createElement("div",{className:"col"},r.a.createElement("i",{onClick:function(n){return t.submitUpvote(e.id,n)},id:"uparrow",className:n}),r.a.createElement("p",{className:"likes ".concat(e.id)},e.score),r.a.createElement("i",{onClick:function(n){return t.submitDownvote(e.id,n)},id:"downarrow",className:a})):r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"likes"},e.score))}},{key:"submitDownvote",value:function(e,t){var n,a=t.target,r=a.parentNode.children[1],i=parseInt(r.innerHTML);if(a.classList.contains("blueArrow"))a.classList.remove("blueArrow"),i+=1,n=null,E.post("/unvote",{postID:e});else{E.post("/downvote",{postID:e});var c=a.parentNode.children[0];a.classList.add("blueArrow"),n=!1,c.classList.contains("orangeArrow")?(i-=2,c.classList.remove("orangeArrow")):i-=1}this.updatedVideoItem(e,i,n),r.innerHTML=i}},{key:"submitUpvote",value:function(e,t){var n,a=t.target,r=a.parentNode.children[1],i=parseInt(r.innerHTML);if(a.classList.contains("orangeArrow"))a.classList.remove("orangeArrow"),i-=1,n=null,E.post("/unvote",{postID:e});else{E.post("/upvote",{postID:e});var c=a.parentNode.children[2];a.classList.add("orangeArrow"),n=!0,c.classList.contains("blueArrow")?(c.classList.remove("blueArrow"),i+=2):i+=1}this.updatedVideoItem(e,i,n),r.innerHTML=i}},{key:"render",value:function(){var e=this.props.selectedVideo;if(!e)return r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui text loader"},"Loading..."));var t=e.secure_media.oembed.html,n="https://www.reddit.com/".concat(e.permalink);return r.a.createElement("div",{className:"video-detail-container"},r.a.createElement("div",{className:"video ui embed"},H()(t)),r.a.createElement("div",{className:"video-info"},r.a.createElement("h2",null,e.title),r.a.createElement("div",{className:"row"},r.a.createElement("a",{href:n,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("i",{className:"fab fa-reddit"})),this.renderVotes(e))))}}]),t}(r.a.Component)),B=Object(p.b)(function(e){return{selectedVideo:e.selectedVideo,isSignedIn:e.isSignedIn.isSignedIn,videoDetails:e.videoDetails,videos:e.videos}})(M),Y=(n(459),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchNewVideos()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(T,null),r.a.createElement(B,null),r.a.createElement(D,null))}}]),t}(r.a.Component)),x=Object(p.b)(null,{fetchNewVideos:b})(Y),_=n(32),G=n(206),R=n(117),Q={isSignedIn:!1},z=Object(_.c)({videos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEW_VIDEOS":case"FETCH_HOT_VIDEOS":case"FETCH_FIVESEVEN_VIDEOS":case"FETCH_SEVENTEN_VIDEOS":case"FETCH_TENFIFTEEN_VIDEOS":case"FETCH_HALFHOUR_VIDEOS":return t.payload;default:return e}},selectedVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SELECT_VIDEO"===t.type?t.payload:e},isSignedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN":case"SIGNOUT":return Object(R.a)({},e,{isSignedIn:t.payload});default:return e}},videoDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"LIKE_STATUS"===t.type?t.payload:e}}),U=Object(_.d)(z,Object(_.a)(G.a));c.a.render(r.a.createElement(p.a,{store:U},r.a.createElement(x,null)),document.querySelector("#root"))}},[[207,2,1]]]);
//# sourceMappingURL=main.93b22032.chunk.js.map